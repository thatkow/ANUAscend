<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ascend Preview</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: #111;
        color: #fff;
        overflow: hidden;
      }

      canvas {
        display: block;
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <canvas id="previewCanvas" aria-hidden="true"></canvas>
    <script>
      const canvas = document.getElementById('previewCanvas');
      const ctx = canvas.getContext('2d');

      const curves = [
        {
          strokeColor: '#ffde59',
          points: [
            { x: 0.110445, y: 0.891122 },
            { x: 0.114726, y: 0.745394 },
            { x: 0.157962, y: 0.586265 },
            { x: 0.183219, y: 0.398660 },
            { x: 0.170377, y: 0.246231 },
            { x: 0.166524, y: 0.180905 },
          ],
        },
        {
          strokeColor: '#84fd5b',
          points: [
            { x: 0.410103, y: 0.880235 },
            { x: 0.412671, y: 0.760469 },
            { x: 0.507277, y: 0.722781 },
            { x: 0.522260, y: 0.599665 },
            { x: 0.465753, y: 0.526801 },
            { x: 0.470034, y: 0.320771 },
            { x: 0.537243, y: 0.245394 },
            { x: 0.475599, y: 0.0 },
          ],
        },
        {
          strokeColor: '#0918d7',
          points: [
            { x: 0.860445, y: 0.881910 },
            { x: 0.883134, y: 0.773032 },
            { x: 0.920805, y: 0.672529 },
            { x: 0.892551, y: 0.510888 },
            { x: 0.895120, y: 0.342546 },
            { x: 0.861729, y: 0.136516 },
          ],
        },
      ];

      const backgroundImage = new Image();
      let backgroundReady = false;

      backgroundImage.src = 'background.png';
      backgroundImage.onload = () => {
        backgroundReady = true;
        resizeCanvas();
      };

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        redraw();
      }
      ctx.lineWidth = 10;
      ctx.strokeStyle = strokeColor;
      ctx.lineJoin = 'round';
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(points[0].x, points[0].y);

      function redraw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (backgroundReady) {
          ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);
        } else {
          ctx.fillStyle = '#000';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        curves.forEach(drawCurve);
      }

      function drawCurve(curve) {
        const { strokeColor, points } = curve;
        if (!points || points.length < 2) {
          return;
        }

        ctx.lineWidth = 10;
        ctx.strokeStyle = strokeColor;
        ctx.lineJoin = 'round';
        ctx.lineCap = 'round';
        ctx.beginPath();

        const scaledPoints = points.map((point) => ({
          x: point.x * canvas.width,
          y: point.y * canvas.height,
        }));

        ctx.moveTo(scaledPoints[0].x, scaledPoints[0].y);

        for (let i = 0; i < scaledPoints.length - 1; i++) {
          const p0 = i === 0 ? scaledPoints[0] : scaledPoints[i - 1];
          const p1 = scaledPoints[i];
          const p2 = scaledPoints[i + 1];
          const p3 = i + 2 < scaledPoints.length ? scaledPoints[i + 2] : scaledPoints[i + 1];

          const cp1x = p1.x + (p2.x - p0.x) / 6;
          const cp1y = p1.y + (p2.y - p0.y) / 6;
          const cp2x = p2.x - (p3.x - p1.x) / 6;
          const cp2y = p2.y - (p3.y - p1.y) / 6;

          ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, p2.x, p2.y);
        }

        ctx.stroke();
      }

      window.addEventListener('resize', resizeCanvas);

      if (backgroundImage.complete) {
        backgroundReady = true;
        resizeCanvas();
      } else {
        resizeCanvas();
      }
    </script>
  </body>
</html>
